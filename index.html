<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="./lib/screenfull.min.js"></script>
    <script type="text/javascript" src="./lib/d3/d3.v3.min.js"></script>
	<script type="text/javascript" src="./lib/hammer.min.js"></script>
	<script type="text/javascript" src="./js/utils/util.js"></script>
	<script type="text/javascript" src="./js/object/event.js"></script>

    <title>Responsive Visualizations</title>
	<script type="text/javascript">
		window.onresize = resizeIframe;
		function resizeIframe() {
			var height = window.innerHeight - 
			(document.getElementById("header").clientHeight || document.getElementById("header").offsetHeight) - 
			(document.getElementById("footer").clientHeight|| document.getElementById("footer").offsetHeight);
			document.getElementById("visualization").style.height = height + 'px';
		}
		
		function changeSrcIframe(visualization) {
			var nameVisualization;
			var nameSource;
			var titleSelected;
			var titleRemove1;
			var titleRemove2;
			if(visualization){
				nameVisualization = visualization;
				if(nameVisualization.toUpperCase() === "treemap".toUpperCase()){
					nameSource = "treemap.html";
					titleSelected = "title2_main_content";
					titleRemove1 = "title1_main_content";
					titleRemove2 = "title3_main_content";
				}
				else if(nameVisualization.toUpperCase() === "timeline".toUpperCase()){
					nameSource = "timeline.html";
					titleSelected = "title1_main_content";
					titleRemove1 = "title2_main_content";
					titleRemove2 = "title3_main_content";
				}
				else{
					nameSource = "presentation.html";
					titleSelected = "title3_main_content";
					titleRemove1 = "title1_main_content";
					titleRemove2 = "title2_main_content";
				}
			}
			document.getElementById("visualization").src = nameSource;
			document.getElementById(titleSelected).className = "title_selected";
			document.getElementById(titleRemove1).className = "";
			document.getElementById(titleRemove2).className = "";
		}
		
		function changeSrcIframeRight() {
			var nameVisualization;
			var nameSource;
			var titleSelected;
			var titleRemove1;
			var titleRemove2;
			
			var name = document.getElementById("visualization").src.split( '/' );
			var query = name[name.length-1].split( '.html' );
			nameVisualization = query[0];
			if(nameVisualization.toUpperCase() === "timeline".toUpperCase()){
				nameSource = "treemap.html";
				titleSelected = "title2_main_content";
				titleRemove1 = "title1_main_content";
				titleRemove2 = "title3_main_content";
			}
			else if(nameVisualization.toUpperCase() === "treemap".toUpperCase()){
				nameSource = "presentation.html";
				titleSelected = "title3_main_content";
				titleRemove1 = "title1_main_content";
				titleRemove2 = "title2_main_content";
			}
			else{
				nameSource = "timeline.html";
				titleSelected = "title1_main_content";
				titleRemove1 = "title2_main_content";
				titleRemove2 = "title3_main_content";
			}
			document.getElementById("visualization").src = nameSource;
			document.getElementById(titleSelected).className = "title_selected";
			document.getElementById(titleRemove1).className = "";
			document.getElementById(titleRemove2).className = "";
		}
		
		function changeSrcIframeLeft() {
			var nameVisualization;
			var nameSource;
			var titleSelected;
			var titleRemove1;
			var titleRemove2;
			
			var name = document.getElementById("visualization").src.split( '/' );
			var query = name[name.length-1].split( '.html' );
			nameVisualization = query[0];
			if(nameVisualization.toUpperCase() === "timeline".toUpperCase()){
				nameSource = "presentation.html";
				titleSelected = "title3_main_content";
				titleRemove1 = "title1_main_content";
				titleRemove2 = "title2_main_content";
			}
			else if(nameVisualization.toUpperCase() === "treemap".toUpperCase()){
				nameSource = "timeline.html";
				titleSelected = "title1_main_content";
				titleRemove1 = "title2_main_content";
				titleRemove2 = "title3_main_content";
			}
			else{
				nameSource = "treemap.html";
				titleSelected = "title2_main_content";
				titleRemove1 = "title1_main_content";
				titleRemove2 = "title3_main_content";
			}
			document.getElementById("visualization").src = nameSource;
			document.getElementById(titleSelected).className = "title_selected";
			document.getElementById(titleRemove1).className = "";
			document.getElementById(titleRemove2).className = "";
		}
		
		new ResponsiveEvent({
			object : d3.select(window).each(function(d,i){
				Hammer(this, {
					prevent_default: true,
					no_mouseevents: true
				})
			}),
        	events : [
        		{"name": "swiperight", "func": changeSrcIframeLeft, "extend": false},
        		{"name": "swipeleft", "func": changeSrcIframeRight, "extend": false}
        	]
        })();
		
		function enterFullScreen(){
            var elem = document.getElementById('visualization');
            if (screenfull.enabled) {
                screenfull.request(elem);
            }                    
        }
        
        window.onkeypress = function (e) {
            if(e.keyCode === 32){
                enterFullScreen();
            }
        };
    </script>
</head>

  <body>
    <div id="container">
	    <div id="header" class="header">
	    	<div class="tablecell">
		    	<header class="inner">
			    	<h1>Visualisations Responsives</h1>
					<div class="title_main_content">
							<h2 id="title1_main_content" class="title_selected" onclick="changeSrcIframe('timeline')">Timeline</h2>
							<h2 id="title2_main_content" onclick="changeSrcIframe('treemap')">Treemap</h2>
							<h2 id="title3_main_content" onclick="changeSrcIframe('presentation')">Pr√©sentation</h2>
							<h2 id="title4_main_content" onclick="changeSrcIframe('documentation')">Documentation</h2>
					</div>
		    	</header>
		    	<hr>
	    	</div>
	    </div>
	
	    <div id="main_content" class='center tablecell'>
			<iframe id="visualization" src="timeline.html" onload='javascript:resizeIframe();'>
			</iframe>
	    </div>
	
	    <div id="footer" class="footer">
	    	<div class="tablecell">
		    	<footer class="inner">
					Responsivevisualisations is maintained by <a href="https://github.com/Juliana23">Juliana Leclaire</a><br>
					This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
				 </footer>
			</div>
	    </div>
    </div>
  </body>
</html>