<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="./lib/d3/d3.v3.min.js"></script>
	<script type="text/javascript" src="./lib/hammer.min.js"></script>
	<script type="text/javascript" src="./js/utils/util.js"></script>
	<script type="text/javascript" src="./js/object/event.js"></script>

    <title>Responsive Visualizations</title>
	<script type="text/javascript">
		window.onresize = resizeIframe;
		function resizeIframe() {
			var height = window.innerHeight - document.getElementById("header").clientHeight - document.getElementById("footer").clientHeight;
			document.getElementById("visualization").style.height = height + 'px';
		}
		
		function changeSrcIframe(visualization) {
			var nameVisualization;
			var nameSource;
			var titleSelected;
			var titleRemove;
			if(visualization){
				nameVisualization = visualization;
				if(nameVisualization.toUpperCase() === "treemap".toUpperCase()){
					nameSource = "treemap.html";
					titleSelected = "title2_main_content";
					titleRemove = "title1_main_content";
				}
				else{
					nameSource = "timeline.html";
					titleSelected = "title1_main_content";
					titleRemove = "title2_main_content";
				}
			}
			else{
				var name = document.getElementById("visualization").src.split( '/' );
				var query = name[name.length-1].split( '.html' );
				nameVisualization = query[0];
				if(nameVisualization.toUpperCase() === "treemap".toUpperCase()){
					nameSource = "timeline.html";
					titleSelected = "title1_main_content";
					titleRemove = "title2_main_content";
				}
				else{
					nameSource = "treemap.html";
					titleSelected = "title2_main_content";
					titleRemove = "title1_main_content";
				}
			}
			document.getElementById("visualization").src = nameSource;
			document.getElementById(titleSelected).className = "title_selected";
			document.getElementById(titleRemove).className = "";
		}
		
		new ResponsiveEvent({
			object : d3.select(window).each(function(d,i){
				Hammer(this, {
					prevent_default: true,
					no_mouseevents: true
				})
			}),
        	events : [
        		{"name": "swipe", "func": changeSrcIframe, "extend": false}
        	]
        })();
	</script>
</head>

  <body>
    <div id="container">
	    <div id="header" class="header">
	    	<div class="tablecell">
		    	<header class="inner">
			    	<h1>Responsivevisualisations</h1>
					<div class="title_main_content">
							<h2 id="title1_main_content" class="title_selected" onclick="changeSrcIframe('timeline')">Timeline</h2>
							<h2 id="title2_main_content" onclick="changeSrcIframe('treemap')">Treemap</h2>
					</div>
		    	</header>
		    	<hr>
	    	</div>
	    </div>
	
	    <div id="main_content" class='center tablecell'>
			<iframe id="visualization" src="timeline.html" onload='javascript:resizeIframe();'>
			</iframe>
	    </div>
	
	    <div id="footer" class="footer">
	    	<div class="tablecell">
		    	<footer class="inner">
					Responsivevisualisations is maintained by <a href="https://github.com/Juliana23">Juliana Leclaire</a><br>
					This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
				 </footer>
			</div>
	    </div>
    </div>
  </body>
</html>